时间2023-03-29日,开始阅读曹大的写的若干文章,最近学习有点懈怠,意外翻书看到了,想看看其他前辈是如何学习与总结

## 2015-10-13 从0搭建Immp环境
介绍了一款Vagrant工具,可用于搭建分布式环境。或者搭建一个开发环境,非常好用。(本人亲测使用过)

[官网地址](https://developer.hashicorp.com/vagrant/tutorials/getting-started)

## 2015-11-01 一致性哈希讲解

介绍了一致性hash算法用于解决的问题,主要在分布式环境中可以用于数据和服务器节点增加/减少情况,数据在节点的重新分布。
例如: nginx/memcached集群采用一致性hash算法

## 2015-11-05 Solr 5.3.1索引MySQL数据配置流程
从mysql数据导入solr,进行查询数据


## 2015-11-13 Elasticsearch环境搭建和river数据导入（一）

es与关系型数据库对比关系

```js
Relational DB -> Databases -> Tables -> Rows -> Columns

Elasticsearch -> Indices   -> Types  -> Documents -> Fields
```


## 2015-11-15 漫谈服务化、微服务(一)

引用文章内容,《程序员的呐喊》里看到亚马逊在2002年的时候，是贝索斯突然向公司程序员们发出以下指令：

```js
1.从今天起，所有的团队都要以服务接口的方式提供数据和各种功能。

2.团队之间必须通过接口来通信。

3.不允许任何其他形式的互操作：不允许直接链接，不允许直接读其他团队的数据，不允许共享内存，不允许任何形式的后门。唯一许可的通信方式就是通过网络调用服务。

4.至于具体的技术不做规定。HTTP、Corba、Pubsub、自定义协议都可以，贝索斯不关心这个。

5.所有的服务接口，必须从一开始就要以可以公开为设计导向，没有例外。这就是说，团队必须在设计的时候就计划好，接口要可以对外面的开发人员开放，没有讨价还价的余地。

6.不听话的人会被炒鱿鱼。
```


曹大根据《building microservices》总结内容如下
```js
做好服务拆分

不要直接去访问非本模块的数据，也就是不要直接去读其它服务的数据库，比如订单服务，不要去读商品或者用户的数据

直接用其它模块提供的api来获得上述数据

做好SSO(单点登陆)

处理好分布式事务
```


## 2015-11-16 Elasticsearch环境搭建和river数据导入（二）

整篇文章在介绍导入数据到es的时候,碰到的频繁gc问题。导致cpu变得很高。
作为一名java coder,这种问题屡见不鲜

## 2015-11-28 关于乐观锁
本篇文章有点实际意义,针对data race情况,数据库的一种处理方式
具体实现
```js
1.在需要加乐观锁的表中加入version字段
2.update时，在where条件后加入version = [select出来的之前的版本号]
```

> 锁记录select * from xxx for update;

## 2015-11-30 [译]Redis事务详解

介绍redis事务的几个调用命令, 工作这么多年没有具体使用过，个人感觉redis事务应用场景不大
 
 
## 2016-01-10 Elasticsearch环境搭建和river数据导入（三）

介绍es的使用场景遇到的业务上带来的坑, 祖传代码带来的bug。

## 2016-02-01 一致性哈希-虚拟结点生成
略


## 2016-03-05 elasticsearch服务开发总结
哈哈哈哈,对于es的使用以及碰到业务上的吐槽,这一点很真实。总是会遇到各个代码上的奇怪现象


## 2016-03-09 Elasticsearch环境搭建和river数据导入（四）
异步导入数据到其他存储介质,也是目前使用最广的方案之一了。
```js
mysql binlog -> alibaba canal server -> kafka -> consumer -> other storage
```
提到了一个问题,成本问题(开发,维护)。势必会引入多个中间件。


## 2016-04-11 中间件与责任链模式

不熟悉PHP,没太懂里面的代码含义,不过可以感受到作者的愤怒,为了炫技而炫技,不能解决问题。


## 2016-04 beanstalkd源码解析
用C语言实现内存队列,列举了一些内部实现以及类。TODO(研究一下,学学C)


## 2016-08 灰度发布
本文对灰度发布,进行了一个简单的介绍。主要核心点在于对用户的合理均匀hash分布,然后升级对应的Api接口。

*md5,sha1进行hash计算的时候,会大量消耗cpu资源,google开发了一种加密算法效率很高*



## 2016-08 谈一谈es的优势和限制

- 有一句话个人很喜欢,大多数互联网公司内的数据不就是这样的“单据”么。
- 文章讲了一些关于es利弊,以及要写好代码,必须得先明白es的底层实现,才不会造成浪费cpu在聚合数据


## 2016-08 使用sql来查询es

- 像写mysql的sql语句翻译成es,dsl语句.(TODO 写一个java版本)


## 2016-10 关于迅雷

各位大概多久用一次迅雷呢,迅雷的普及推广可算不得特别的华丽(hahahaha)。
针对p2p的学习,个人会单开一篇文章来解释原理,普及。


## 2016-10 初级程序员常犯错误一览

截取一部分很典型的内容,树型结构在erp,oa系统中是很常见的一种数据结构。

树形结构的表结构设计问题
公司里有人会把存储树形结构的表设计成这样：

 Field            | Type         | Null | Key | Default             | Extra                       |
+------------------+--------------+------+-----+---------------------+-----------------------------+
| id               | int(10)      | NO   | PRI | NULL                | auto_increment              |
| name             | varchar(64)  | NO   |     |                     |                             |
| parent_id        | int(10)      | NO   |     | 0                   |                             |
| status           | tinyint(3)   | NO   |     | 0                   |                             |
| createtime       | datetime     | NO   |     | 0000-00-00 00:00:00 |                             |
| modifytime       | timestamp    | NO   |     | CURRENT_TIMESTAMP   | on update CURRENT_TIMESTAMP |
| category_id_path | varchar(256) | NO   |     | 0                   |                             |
先看表结构，有没有什么问题？对，没有存储level信息，这种情况下如果我要找三/四级分类的所有分类id，那么就变成了一件非常麻烦恶心不可能的事情。何必呢。

除了level之外，看起来是不是没什么问题了，那我们来看看表里存储的具体数据：

              id: 3459
            name: fasdfasf
       parent_id: 0
          status: 0
      createtime: 2016-10-20 17:11:12
      modifytime: 2016-10-20 17:11:13
category_id_path: 1,345,2359
1 row in set (0.01 sec)

发现什么问题了么。。

对，category_id_path这个字段，设计者很聪明地存储了一个分类从根到该category的完整路径，但是却犯了个错误。先卖个关子，在这样的表里，如果你要查询345结点(含)的所有子结点要怎么做呢？

select * from category where category_id_path like '1,345%'

这样显然是有问题的。如果一个结点的path是1,3456，那么不幸的，你的查询也会把这个结点选出来。

那么我是不是可以：

select * from category where category_id_path like '1,345,'

看起来似乎是没问题了，那么上面要求的1,345这个结点怎么办呢。。只能

select * from category where category_id_path like '1,345,' or category_id_path = '1,345'

    
## 略过几篇文章
- 发泄情绪的文章跟吐槽类型的, 有一点倒是蛮赞同,一定要熟读文档以及对实现细节有了解。
- 针对kafka以及redis等文章的介绍,版本都已经过时了。
- 针对golang的火焰图使用分析结论(版本太老,不具备参考价值)


## 从求交集开始
以微博为例：A用户关注100用户、B用户关注100用户。求这A/B的共同关注用户数量?

> 遍历o(m+n)次循环,使用map[int]int存储数据,如果value==2,则代表是共同关注的好友。


## 2018-1-7 开源书
[开源书籍](https://github.com/chai2010/advanced-go-programming-book)


## 2018-1-22 你的负载均衡真的均衡么？
被调用方觉得负载并不是被平均调用,哈哈哈哈哈哈。


## debug调试golang
https://xargin.com/debugger/
[源码解读](https://github.com/cch123/golang-notes) 


## 2018-1-10 2018年的几个目标
通过https://xargin.com/2018-plan/,保持终身学习keep learning,大部分的实践都需要理论支撑。






















































 























