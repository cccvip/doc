
## HASHMAP


### 问题
- jdk1.7会出现什么问题？
扩容时候的插入过程,注意一点使用的是头插入方式
![image](_assets/jdk1.7.jpg)

> 则可能会出现线程一已经修改完成7->3 线程二又重复执行3—>7造成环形链表。

执行get(key),key本身又不存在就会出现死循环。

- jdk1.8会出现什么问题？

并发put的时候,存在数据丢失的情况。

### 1.8相比1.7优化策略在哪儿？
使用红黑树+尾插法优化掉存储结构

## ConcurrentHashMap

1.7使用segment分段锁  16个桶
1.8使用cas+synchronized